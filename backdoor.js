/** @param {NS} ns **/
export async function main(ns) {

   ns.toast('attempting to install')

   let servers = ns.scan(ns.getHostname()) // scans host and stores neighbors in an array

   const INDEX = servers.indexOf('home')

   if (INDEX > -1) {
      servers.splice(INDEX, 1);
      ns.toast(servers, info)
   }

   // iterates through array of servers and stores each one in the target variable until the logic is run on it
   for (let target of servers) {
      while (ns.hasRootAccess(target)) {
         ns.installBackdoor();
         ns.toast('installed backdoor on' + target, success); 
      }
   }
} 
 // end of main functio
